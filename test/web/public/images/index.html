<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="apple-touch-icon" sizes="57x57" href="./../favicon/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="./../favicon/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="./../favicon/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="./../favicon/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="./../favicon/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="./..//favicon/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="./../favicon/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="./../favicon/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./../favicon/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="./../favicon/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="./../favicon/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="./../favicon/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="./../favicon/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="./../favicon/manifest.json">
    <link rel="mask-icon" href="./../favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <title>WildcatConnect</title>

    <!-- Bootstrap core CSS -->
    <link href="./../css/bootstrap.min.css" rel="stylesheet">

    <link href="./../css/signin.css" rel="stylesheet">

    <link href="./../css/sticky-footer-navbar.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!--link href="./css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <!--link href="navbar-static-top.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <!--script src="../../assets/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <!-- Static navbar -->
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a><img src="./../logoTransparent.gif" alt="Logo" width="54" style="display: inline-block; vertical-align: middle;"/></a>
          <a class="navbar-brand">WildcatConnect</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul id="spinnerDiv" class="nav navbar-nav">
            <!--li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li-->
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Account <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li>
                  <a href="" id="changePassword">Change Password</a>
                </li>
                <li>
                  <a href="mailto:support@wildcatconnect.org">Report an issue</a></li><li role="separator" class="divider"></li><li><a href="" id="logOut">Log Out</a>
                </li>
              </ul>
            </li>
          </ul>
        </div--><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="main-container" style="padding-left:20px; padding-right:20px;">
 
      <div id="admin">
        <h2 id="welcomeLabel">Welcome ...</h2>
        <h5 id="nameLabel">Logged in as ...</h5>
        <hr style="border-color:#561838";></hr>
        <h2 style="text-align:center;">Faculty Tools</h2>
        <table class="table">
          <tr>
            <td width="33%"><a href="./news.html"><button class="add-news btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;">Wildcat News Story</button></a></td>
            <td width="33%"><a href="./groupUpdate.html"><button class="add-ec btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;">Group Update</button></a></td>
            <td width="33%"><a href="./groupRegister.html"><button class="register-ec btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;">Register New Group</button></a></td>
          </tr>
          <tr>
            <td width="33%"><a href="./community.html"><button class="add-ec btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;">Community Service Opportunity</button></a></td>
            <td width="33%"><a href="./poll.html"><button class="add-ec btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;">User Poll</button></a></td>
            <td width="33%"><a href="./alert.html"><button class="add-ec btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;">Alert</button></a></td>
          </tr>
        </table>
        <h2 style="text-align:center;">Administrative Tools</h2>
        <table class="table">
          <tr>
            <td width="33%"><a href="./user.html"><button class="add-news btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;">User Management</button></a></td>
            <td width="33%"><a href="./schedule.html"><button class="add-ec btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;">Schedule Management</button></a></td>
            <td width="33%"><a href="./schedule.html"><button class="add-ec btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;">Lunch Management</button></a></td>
          </tr>
        </table>
      </div>

      <div id="dev">
        <h2 id="welcomeLabel">Welcome ...</h2>
        <h5 id="nameLabel">Logged in as ...</h5>
        <hr style="border-color:#561838";></hr>
        <h2 style="text-align:center;">Faculty Tools</h2>
        <table class="table">
          <tr>
            <td width="33%"><a href="./news.html"><button class="add-news btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;">Wildcat News Story</button></a></td>
            <td width="33%"><a href="./groupUpdate.html"><button class="add-ec btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;">Group Update</button></a></td>
            <td width="33%"><a href="./groupRegister.html"><button class="register-ec btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;">Register New Group</button></a></td>
          </tr>
          <tr>
            <td width="33%"><a href="./community.html"><button class="add-ec btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;">Community Service Opportunity</button></a></td>
            <td width="33%"><a href="./poll.html"><button class="add-ec btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;">User Poll</button></a></td>
            <td width="33%"><a href="./alert.html"><button class="add-ec btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;">Alert</button></a></td>
          </tr>
        </table>
        <h2 style="text-align:center;">Administrative Tools</h2>
        <table class="table">
          <tr>
            <td width="33%"><a href="./user.html"><button class="add-news btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;" id="newButton">User Management</button></a></td>
            <td width="33%"><a href="./schedule.html"><button class="add-ec btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;">Schedule Management</button></a></td>
            <td width="33%"><a href="./lunch.html"><button class="add-ec btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;">Breakfast/Lunch Management</button></a></td>
          </tr>
        </table>
        <h2 style="text-align:center;">Developer Tools</h2>
        <table class="table">
          <tr>
            <td width="33%"></td>
            <td width="33%"><a href="./errors.html"><button class="add-ec btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;" id="errorButton">Error Management</button></a></td>
            <td width="33%"></td>
          </tr>
        </table>
      </div>

      <div id="faculty">
        <h2 id="welcomeLabel">Welcome ...</h2>
        <h5 id="nameLabel">Logged in as ...</h5>
        <hr style="border-color:#561838";></hr>
        <h2 style="text-align:center;">Faculty Tools</h2>
        <table class="table">
          <tr>
            <td width="33%"><a href="./news.html"><button class="add-news btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;">Wildcat News Story</button></a></td>
            <td width="33%"><a href="./groupUpdate.html"><button class="add-ec btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;">Group Update</button></a></td>
            <td width="33%"><a href="./groupRegister.html"><button class="register-ec btn btn-lg btn-primary" style="margin-bottom:5px; display: block; width: 100%;">Register New Group</button></a></td>
          </tr>
        </table>
      </div>

      <div id="lunch">
        <h2 id="welcomeLabel">Welcome ...</h2>
        <h5 id="nameLabel">Logged in as ...</h5>
        <hr style="border-color:#561838";></hr>
        <a href="./lunch.html"><button class="add-news btn btn-lg btn-primary" style="margin-bottom:5px;">Breakfast/Lunch Management</button></a>
      </div>

    </div> <!-- /container -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="./../js/jquery.min.js"></script>
    <script src="./../js/parse-1.2.19.min.js"></script>
    <!--script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script-->
    <script src="./../js/bootstrap.min.js"></script>
    <script src="./../js/script.js"></script>
    <script src="./../js/date.js"></script>

    <script type="text/javascript">
      Parse.$ = jQuery;
      Parse.initialize("cLBOvwh6ZTQYex37DSwxL1Cvg34MMiRWYAB4vqs0", "tTcV5Ns1GFdDda44FCcG5XHBDMbLA1sxRUzSnDgW");
      if (Parse.User.current()) {
        if (Parse.User.current().get("userType") === "Administration" || Parse.User.current().get("userType") === "Developer") {
          if (Parse.User.current().get("userType") === "Administration") {
            $('.main-container').html($("#admin").html());
          } else {
            $('.main-container').html($("#dev").html());
          };
          $("#spinnerDiv").html('<a><img src="./spinner.gif" alt="Logo" width="40" style="vertical-align: middle; padding-top:12px; padding-left:10px;"/></a>');
          var query = new Parse.Query("UserRegisterStructure");
          query.count({
            success: function(count) {
              if (count == 1) {
                $("#newButton").html("User Management (" + count + " PENDING REQUEST)");
                $("#newButton").css('background-color', 'red');
                $("#newButton").css('border-color', 'red');
              } else if (count > 1) {
                $("#newButton").html("User Management (" + count + " PENDING REQUESTS)");
                $("#newButton").css('background-color', 'red');
                $("#newButton").css('border-color', 'red');
              };
              $("#spinnerDiv").html("");
            },
            error: function(error) {
              if (error.code != 100) {
                alert(error.code + " - " + error.message);
              };
              $("#spinnerDiv").html("");
            }
          });
          var queryTwo = new Parse.Query("ErrorStructure");
          queryTwo.count({
            success: function(count) {
              if (count == 1) {
                $("#errorButton").html("Error Management (" + count + " UNRESOLVED ERROR)");
                $("#errorButton").css('background-color', 'red');
                $("#errorButton").css('border-color', 'red');
              } else if (count > 1) {
                $("#errorButton").html("Error Management (" + count + " UNRESOLVED ERRORS)");
                $("#errorButton").css('background-color', 'red');
                $("#errorButton").css('border-color', 'red');
              };
              $("#spinnerDiv").html("");
            },
            error: function(error) {
              if (error.code != 100) {
                alert(error.code + " - " + error.message);
              };
              $("#spinnerDiv").html("");
            }
          });
        } else if (Parse.User.current().get("userType") === "Faculty") {
          $('.main-container').html($("#faculty").html());
        } else if (Parse.User.current().get("userType") === "Lunch Manager") {
          $('.main-container').html($("#lunch").html());
        };
        $('#welcomeLabel').html("Welcome, " + Parse.User.current().get("firstName") + "!");
        $('#nameLabel').html("Logged in as " + Parse.User.current().get("firstName") + " " + Parse.User.current().get("lastName") + " - " + Parse.User.current().get("userType"));
      } else {
        window.location.replace("./login.html");
      };
    </script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!--script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
  </body>
</html>